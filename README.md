# YAP
<<<<<<< Updated upstream
 Проект для яндекс лицея
# Проект "Работа с воркерами"

## Описание

Проект "Работа с воркерами" представляет собой систему для обработки задач с использованием воркеров. Воркеры - это независимые серверы, способные выполнять задачи параллельно. Основной задачей системы является распределение задач между воркерами и обработка их результатов.

## Функциональность

- Добавление задач в очередь для обработки.
- Распределение задач между воркерами.
- Обработка задач параллельно с использованием нескольких горутин на воркере.
- Мониторинг состояния базы данных каждые 5 минут для обнаружения новых задач.
- Автоматическое перераспределение задач при отключении воркера.
- Логирование действий и ошибок для отслеживания работы системы.

## Установка и запуск

1. Склонируйте репозиторий: `git clone https://github.com/your/repository.git`
2. Перейдите в каталог проекта: `cd project-directory`
3. Установите зависимости: `go mod tidy`
4. Создайте базу данных SQLite: `touch example.db`
5. Запустите проект: `go run main.go`

## Использование

1. Добавление задачи: отправьте HTTP POST запрос на `/addTask` с параметром `expression`, содержащим арифметическое выражение для вычисления.
2. Мониторинг состояния воркеров: обратитесь к логам воркеров для отслеживания выполняемых задач и возможных ошибок.

## Структура проекта

- `main.go`: основной файл, запускающий HTTP сервер и оркестратор.
- `worker.go`: файл, содержащий структуру воркера и его методы.
- `database.go`: файл, содержащий методы для взаимодействия с базой данных SQLite.
- `README.md`: файл с описанием проекта и инструкциями по установке и использованию.

## Зависимости

- `github.com/mattn/go-sqlite3`: библиотека для работы с базой данных SQLite.
- `github.com/gorilla/mux`: библиотека для создания маршрутов HTTP в Go.
- `github.com/Knetic/govaluate`: библиотека для вычисления арифметических выражений в Go.

## Авторы

Проект создан [ваше имя/название команды].

## Лицензия

Этот проект лицензируется под [указать тип лицензии]. Подробности смотрите в файле LICENSE.
=======
# Арифметический вычислитель с использованием воркеров

Этот проект представляет собой арифметический вычислитель с использованием множества воркеров для обработки задач. Каждый воркер постоянно следит за базой данных, выбирая непроцессированные задачи, вычисляя их значения и обновляя записи в базе данных.

## Структура проекта

- **cmd**: Содержит файл main.go для запуска проекта.
- **internal**: Содержит весь основной код проекта.
- **templates**: Содержит странички сервера.
- **README.md**: Документация проекта.

## Использование

1. Запустите приложение командой `go run main.go` из директории `cmd`.

## Схема базы данных

База данных содержит две таблицы: `tasks`,в которой хранятся задачи для вычисления арифметических выражений, `time`, в которой хранятиться время для подсчета выражения:

## Пример использования

1. Вбить в поле формы Calculater выражение на подобии 2+2-3, вбивать без посторонних символом.
2. Воркеры будут поочередно брать задачи из базы данных, вычислять значения выражений и обновлять записи в базе данных.
3. Ждать пока посчитает воркер.

## Вклад

Любые предложения по улучшению приветствуются! Пожалуйста, создавайте issue или pull request'ы, если у вас есть идеи или предложения по улучшению проекта.

## Владелец

Telegram: "@dq2203"
>>>>>>> Stashed changes
